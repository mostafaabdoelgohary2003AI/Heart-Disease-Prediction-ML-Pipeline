# Ngrok Deployment Setup for Heart Disease Prediction App

## Prerequisites
1. Install ngrok: https://ngrok.com/download
2. Create a free ngrok account
3. Install Streamlit: pip install streamlit

## Step-by-Step Deployment

### 1. Install ngrok
- Download ngrok from https://ngrok.com/download
- Extract the executable to your system PATH
- Or place it in the project directory

### 2. Setup ngrok Authentication
```bash
# Get your authtoken from ngrok dashboard
ngrok config add-authtoken YOUR_AUTHTOKEN_HERE
```

### 3. Run the Streamlit App Locally
```bash
# Navigate to the project directory
cd Heart_Disease_Project

# Run the Streamlit app
streamlit run ui/app.py
```

### 4. Create Public Tunnel with ngrok
Open a new terminal and run:
```bash
# Create tunnel to localhost:8501 (default Streamlit port)
ngrok http 8501
```

### 5. Access Your App
- ngrok will provide a public URL (e.g., https://abc123.ngrok.io)
- Share this URL to allow others to access your app
- The app will be accessible as long as both Streamlit and ngrok are running

## Advanced ngrok Configuration

### Custom Domain (Paid Feature)
```bash
ngrok http 8501 --hostname=your-custom-domain.ngrok.io
```

### Basic Authentication
```bash
ngrok http 8501 --basic-auth="username:password"
```

### Configuration File
Create `ngrok.yml`:
```yaml
version: "2"
authtoken: YOUR_AUTHTOKEN_HERE
tunnels:
  heart-disease-app:
    addr: 8501
    proto: http
    hostname: your-custom-domain.ngrok.io
    basic_auth:
      - "username:password"
```

Run with config:
```bash
ngrok start heart-disease-app
```

## Production Deployment Alternatives

### 1. Streamlit Cloud (Recommended)
- Free hosting for public repositories
- Automatic deployments from GitHub
- Visit: https://share.streamlit.io/

### 2. Heroku
```bash
# Create Procfile
echo "web: streamlit run ui/app.py --server.port=$PORT --server.address=0.0.0.0" > Procfile

# Deploy to Heroku
heroku create your-app-name
git push heroku main
```

### 3. Docker Deployment
Create `Dockerfile`:
```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 8501

CMD ["streamlit", "run", "ui/app.py", "--server.address", "0.0.0.0"]
```

## Troubleshooting

### Common Issues:
1. **Port already in use**: Change Streamlit port with `--server.port 8502`
2. **ngrok not found**: Add ngrok to your system PATH
3. **Tunnel timeout**: Free ngrok tunnels timeout after 2 hours
4. **Model not found**: Ensure all notebooks have been run to generate models

### Security Considerations:
- Use basic authentication for sensitive data
- Consider using paid ngrok for production use
- Never expose real patient data publicly
- Add rate limiting for production apps

## Monitoring and Logs
- Streamlit logs: Check terminal running streamlit
- ngrok logs: Check terminal running ngrok
- Access logs: Available in ngrok dashboard (paid plans)

## Stopping the Services
1. Stop Streamlit: Ctrl+C in the Streamlit terminal
2. Stop ngrok: Ctrl+C in the ngrok terminal
